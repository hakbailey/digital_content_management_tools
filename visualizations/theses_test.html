<!DOCTYPE html>
<html lang="en">
    <head>
      <meta charset="utf-8">
      <title>Theses Content Type</title>
      <script type="text/javascript" src="d3/d3.v3.js"></script>
      <script type="text/javascript" src="d3/d3.layout.js"></script>
			<style type="text/css">
				svg .primaryBucket {
					stroke: black;
					stroke-width: 4;	
					fill-opacity: 0.5;			
				}
			</style>
    </head>

    <body>
      <script type="text/javascript">
			var xVals = [];
			var yVals = [];
			var jsonData;
			
			var w = 1000;
			var h = 600;

			for (var i = 0; i < 12; i++) {
				var newValx = Math.round(Math.random() * (w - 200) + 100);
				xVals.push(newValx);
			}

			for (var i = 0; i < 12; i++) {			
				var newValy = Math.round(Math.random() * (h - 200) + 100);
				yVals.push(newValy);
			}

			var svg = d3.select("body")
				.append("svg")
				.attr("width", w)
				.attr("height", h);

			d3.json("data/theses.json", function(json) {
				jsonData = json;

				svg.selectAll("circle")
					.data(jsonData.results.bindings)
					.enter()
					.append("circle")
					.attr("cx", function(d, i) {
						return xVals[i];
					})
					.attr("cy", function(d, i) {
						return yVals[i];
					})
					.attr("r", function(d) {
						return d.size.value * 30;
					})
					.attr("class", "primaryBucket")
					.attr("fill", function(d) {
						if (d.timeline.value == "http://www.semanticweb.org/hbailey/ontologies/2013/9/mitorg#ongoing") {return "white"}
						else {return "gray"}
					})

				svg.selectAll("text")
					.data(jsonData.results.bindings)
					.enter()
					.append("text")
					.text(function(d) {
						return d.bucketName.value;
					})
					.attr("x", function(d, i) {
						return xVals[i];
					})
					.attr("y", function(d, i) {
						return yVals[i];
					})
					.attr("font-family", "sans-serif")
					.attr("font-size", "11px")
					.attr("font-weight", "bold")
					.attr("text-anchor", "middle");

			  });

			</script>
			</body>
			</html>